!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define("ts-generic-collections-linq",["exports"],r):r(t["ts-generic-collections-linq"]={})}(this,function(t){"use strict";var f=(l.prototype.add=function(t){this.list.push(t)},l.prototype.addRange=function(t){var r=this;t.forEach(function(t){return r.add(t)})},l.prototype.remove=function(r){var n=new Array;this.list.forEach(function(t){r(t)||n.push(t)}),this.list=n},l.prototype.clear=function(){this.list=new Array},l.prototype.asEnumerable=function(){return this},Object.defineProperty(l.prototype,"length",{get:function(){return this.list.length},enumerable:!0,configurable:!0}),l.prototype.elementAt=function(t){try{return this.list[t]}catch(r){return null}},l.prototype.any=function(t){if(!t)return 0<this.list.length;for(var r=0;r<this.list.length;r++)if(t(this.list[r]))return!0;return!1},l.prototype.all=function(t){if(!t)return 0<this.list.length;for(var r=0;r<this.list.length;r++)if(!t(this.list[r]))return!1;return!0},l.prototype.single=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw n;if(t){var r=this.singleOrDefault(t);if(!r)throw n;return r}return this.list[0]},l.prototype.first=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw n;if(t){var r=this.firstOrDefault(t);if(!r)throw n;return r}return this.list[0]},l.prototype.last=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw n;if(t){var r=this.lastOrDefault(t);if(!r)throw n;return r}return this.list[this.list.length-1]},l.prototype.singleOrDefault=function(r){var n=new Array;if(this.list.filter(function(t){r(t)&&n.push(t)}),1<n.length)throw o;return n.length<=0?null:n[0]},l.prototype.firstOrDefault=function(t){for(var r=0;r<this.length;r++){var n=this.list[r];if(t(n))return n}return null},l.prototype.lastOrDefault=function(t){for(var r=this.length;0<=r;r--){var n=this.list[r-1];if(t(n))return n}return null},l.prototype.where=function(r){var n=new l;return this.list.filter(function(t){r(t)&&n.add(t)}),n},l.prototype.select=function(r){var n=new l;return this.forEach(function(t){return n.add(r(t))}),n},l.prototype.forEach=function(r){this.list.forEach(function(t){return r(t)})},l.prototype.toArray=function(){return this.list},l.prototype.join=function(n,i,e,o,u){void 0===u&&(u=!1);var s=new l;return this.list.forEach(function(r){var t=n.toArray().filter(function(t){return i(r)===e(t)});u&&t&&t.length<=0?s.add(o(r,null)):t.forEach(function(t){return s.add(o(r,t))})}),s},l.prototype.groupBy=function(n){var i={};return this.list.forEach(function(t){var r=JSON.stringify(n(t));i[r]=i[r]||[],i[r].push(t)}),new l(Object.keys(i).map(function(t){var r=t.substr(1,t.length-2);return new e(r.split(","),i[t])}))},l.prototype.orderBy=function(n){return new l(this.list.sort(function(t,r){return n.compare(t,r)}))},l.prototype.union=function(t){return this.addRange(t.toArray()),this},l.prototype.distinct=function(n){var i=new l;return this.forEach(function(r){i.forEach(function(t){n.equals(r,t)||i.add(r)})}),i},l.prototype.skip=function(t){return 0<t?new l(this.list.slice(t,this.list.length-1)):this},l.prototype.take=function(t){return 0<t?new l(this.list.slice(0,t)):this},l.prototype.sum=function(r){var n=0;return this.list.forEach(function(t){return n+=r(t)}),n},l.prototype.avg=function(t){return this.sum(t)/this.length},l.prototype.min=function(n){var i=0,e=0;return this.list.forEach(function(t){if(0==e)i=n(t);else{var r=n(t);r<i&&(i=r)}e++}),i},l.prototype.max=function(n){var i=0,e=0;return this.list.forEach(function(t){if(0==e)i=n(t);else{var r=n(t);i<r&&(i=r)}e++}),i},l.prototype.count=function(r){if(void 0===r&&(r=null),!r)return this.length;var n=0;return this.list.forEach(function(t){r(t)&&n++}),n},l);function l(t){void 0===t&&(t=null),this.list=new Array,t&&(this.list=t)}var e=function h(t,r){this.list=new f,this.groups=t,this.list=new f(r)},i=function(t,r){for(var n in t){if(t.hasOwnProperty(n)!==r.hasOwnProperty(n))return!1;switch(typeof t[n]){case"object":if(!i(t[n],r[n]))return!1;break;case"function":if("undefined"==typeof r[n]||"compare"!=n&&t[n].toString()!=r[n].toString())return!1;break;default:if(t[n]!=r[n])return!1}}for(var n in r)if("undefined"==typeof t[n])return!1;return!0},n="Item does not exist.",o="Multiple instances of entity found.",r=(u.prototype.add=function(t,r){var n=new s(t,r);if(this.containsKey(t))throw"Duplicate key. Cannot add.";this.list.push(n)},u.prototype.addRange=function(t){var r=this;t.forEach(function(t){return r.add(t.key,t.value)})},u.prototype.clear=function(){this.list=new Array},u.prototype.remove=function(r){var n=new Array;this.list.forEach(function(t){r(t)||n.push(t)}),this.list=n},u.prototype.containsKey=function(r){return this.any(function(t){return i(t.key,r)})},u.prototype.containsValue=function(r){return this.any(function(t){return i(t.value,r)})},u.prototype.tryGetValue=function(r){var t=this.singleOrDefault(function(t){return i(t.key,r)});return t?t.value:null},u.prototype.asEnumerable=function(){return this},Object.defineProperty(u.prototype,"length",{get:function(){return this.list.length},enumerable:!0,configurable:!0}),u.prototype.elementAt=function(t){try{return this.list[t]}catch(r){return null}},u.prototype.any=function(t){if(!t)return 0<this.list.length;for(var r=0;r<this.list.length;r++)if(t(this.list[r]))return!0;return!1},u.prototype.all=function(t){if(!t)return 0<this.list.length;for(var r=0;r<this.list.length;r++)if(!t(this.list[r]))return!1;return!0},u.prototype.single=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw n;if(t){var r=this.singleOrDefault(t);if(!r)throw n;return r}return this.list[0]},u.prototype.first=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw n;if(t){var r=this.firstOrDefault(t);if(!r)throw n;return r}return this.list[0]},u.prototype.last=function(t){if(this.list.length<=0)throw n;if(t){var r=this.lastOrDefault(t);if(!r)throw n;return r}return this.list[this.list.length-1]},u.prototype.singleOrDefault=function(r){var n=new Array;if(this.list.filter(function(t){r(t)&&n.push(t)}),1<n.length)throw o;return n.length<=0?null:n[0]},u.prototype.firstOrDefault=function(t){for(var r=0;r<this.length;r++){var n=this.list[r];if(t(n))return n}return null},u.prototype.lastOrDefault=function(t){for(var r=this.length;0<=r;r--){var n=this.list[r-1];if(t(n))return n}return null},u.prototype.where=function(r){var n=new u;return this.list.filter(function(t){r(t)&&n.add(t.key,t.value)}),n},u.prototype.select=function(r){var n=new f;return this.forEach(function(t){return n.add(r(t))}),n},u.prototype.forEach=function(r){this.list.forEach(function(t){return r(t)})},u.prototype.toArray=function(){return this.list},u.prototype.join=function(n,i,e,o,u){void 0===u&&(u=!1);var s=new f;return this.list.forEach(function(r){var t=n.toArray().filter(function(t){return i(r)===e(t)});u&&t&&t.length<=0?s.add(o(r,null)):t.forEach(function(t){return s.add(o(r,t))})}),s},u.prototype.groupBy=function(n){var i={};this.list.forEach(function(t){var r=JSON.stringify(n(t));i[r]=i[r]||[],i[r].push(t)});var t=Object.keys(i).map(function(t){var r=t.substr(1,t.length-2);return new e(r.split(","),i[t])});return new f(t)},u.prototype.orderBy=function(n){var t=this.list.sort(function(t,r){return n.compare(t,r)});return new f(t)},u.prototype.distinct=function(n){var i=new f;return this.forEach(function(r){i.forEach(function(t){n.equals(r,t)||i.add(r)})}),i},u.prototype.union=function(t){return this.addRange(t.toArray()),this},u.prototype.skip=function(t){return 0<t?new u(this.list.slice(t,this.list.length-1)):this},u.prototype.take=function(t){return 0<t?new u(this.list.slice(0,t)):this},u.prototype.sum=function(r){var n=0;return this.list.forEach(function(t){return n+=r(t)}),n},u.prototype.avg=function(t){return this.sum(t)/this.length},u.prototype.min=function(n){var i=0,e=0;return this.list.forEach(function(t){if(0==e)i=n(t);else{var r=n(t);r<i&&(i=r)}e++}),i},u.prototype.max=function(n){var i=0,e=0;return this.list.forEach(function(t){if(0==e)i=n(t);else{var r=n(t);i<r&&(i=r)}e++}),i},u.prototype.count=function(r){if(void 0===r&&(r=null),!r)return this.length;var n=0;return this.list.forEach(function(t){r(t)&&n++}),n},u);function u(t){void 0===t&&(t=null),this.list=new Array,t&&(this.list=t)}var s=function a(t,r){this.key=t,this.value=r};t.Group=e,t.objCompare=i,t.ITEM_NOT_FOUND_MSG=n,t.MULTIPLE_INSTANCES_FOUND_MSG=o,t.List=f,t.Dictionary=r,t.KeyValuePair=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ts-generic-collections-linq.umd.min.js.map